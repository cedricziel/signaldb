[build]
# One cache shared by the top-level workspace *and*
# any member crate you `cd` into.
target-dir = "../target"

[profile.release]
lto = "thin"      # 95 % of the perf at ~40 % of the link time
opt-level = 3
codegen-units = 8 # good perf / far quicker builds
panic = "abort"

[profile.dev]
incremental = true         # make intent explicit
split-debuginfo = "packed" # macOS only; omit on Linux/Windows

[profile.test]
opt-level = 1 # keep if you already like the speed
lto = "thin"  # optional â€“ only if tests are perf-sensitive

[env]
RUST_BACKTRACE = { value = "1", condition = { env_not_set = "RUST_BACKTRACE" } }
